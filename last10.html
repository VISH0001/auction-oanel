<!-- Save as last10bids.html -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Last 10 Bids</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{
  --bg:#00101a; --accent:#00eaff; --text:#dffcff;
  /* same team palette used by auction_panel (team 1..8) */
  --t1:#00eaff; --t2:#00ff88; --t3:#ffaa00; --t4:#ff4444;
  --t5:#bb88ff; --t6:#66ccff; --t7:#aaff33; --t8:#ffdd33;
}
body{
  margin:0; background:radial-gradient(circle,#06273a,#00101a 70%); color:var(--text); font-family:Arial,Helvetica,sans-serif; padding:26px;
}
h2{
  text-align:center; color:var(--accent); text-shadow:0 0 14px var(--accent); margin-bottom:18px;
  font-size:34px;
}

/* container */
.container{ max-width:720px; margin:0 auto; }

/* list box */
.bidBox{
  background:transparent;
  border-radius:12px;
  padding:8px;
}

/* each row */
.row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 18px;
  margin:10px 0;
  border-radius:10px;
  color: #e8ffff;
  font-weight:600;
  box-shadow: 0 8px 30px rgba(0,0,0,0.35);
  position:relative;
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.03);
}
/* team color backgrounds and glow — set via inline style from JS */
.row .team { text-align:left; font-size:18px; }
.row .amt  { text-align:right; font-size:18px; font-weight:800; }

/* small rounded band at left (team color) */
.row::before{
  content: '';
  position:absolute;
  left:10px;
  top:10px;
  bottom:10px;
  width:8px;
  border-radius:6px;
  opacity:0.95;
}

/* remove separators (user asked to remove dashed lines) */
.line { border-bottom:none; }

/* responsive */
@media (max-width:600px){
  .row{ padding:12px; font-size:16px; }
  h2{ font-size:28px; }
}
</style>
</head>
<body>
<div class="container">
  <h2>Last 10 Bids</h2>
  <div id="list" class="bidBox"></div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyCX6FYo5gVgCmds7Xf63xF-Xcg6eIutQmk",
  authDomain: "auction-71c28.firebaseapp.com",
  databaseURL: "https://auction-71c28-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "auction-71c28",
  storageBucket: "auction-71c28.firebasestorage.app",
  messagingSenderId: "92883040612",
  appId: "1:92883040612:web:473f540c99efc20e8d2271"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

const listDiv = document.getElementById('list');

/* color map by team number (1..8) — matches auction_panel */
const teamColors = {
  1: getComputedStyle(document.documentElement).getPropertyValue('--t1') || '#00eaff',
  2: getComputedStyle(document.documentElement).getPropertyValue('--t2') || '#00ff88',
  3: getComputedStyle(document.documentElement).getPropertyValue('--t3') || '#ffaa00',
  4: getComputedStyle(document.documentElement).getPropertyValue('--t4') || '#ff4444',
  5: getComputedStyle(document.documentElement).getPropertyValue('--t5') || '#bb88ff',
  6: getComputedStyle(document.documentElement).getPropertyValue('--t6') || '#66ccff',
  7: getComputedStyle(document.documentElement).getPropertyValue('--t7') || '#aaff33',
  8: getComputedStyle(document.documentElement).getPropertyValue('--t8') || '#ffdd33'
};

/* render helper */
function renderList(arr){
  listDiv.innerHTML = '';
  if(!arr || !arr.length) return;
  arr.forEach((item, idx) => {
    const tn = Number(item.teamNum) || 0;
    const teamName = item.team || 'Team';
    const amount = item.amount === undefined ? '' : String(item.amount);
    const color = teamColors[tn] ? teamColors[tn].trim() : '#00eaff';
    const row = document.createElement('div');
    row.className = 'row';
    // tinted background subtle
    row.style.background = 'linear-gradient(90deg, rgba(0,0,0,0.35), rgba(0,0,0,0.25))';
    row.style.border = '1px solid rgba(255,255,255,0.02)';
    // left color band
    row.style.setProperty('--band', color);
    row.style.boxShadow = `0 8px 28px ${hexToRgba(color,0.14)}`;
    row.style.borderLeft = `6px solid ${hexToRgba(color,0.65)}`;
    // team & amount elements
    const l = document.createElement('div'); l.className = 'team'; l.textContent = teamName;
    const r = document.createElement('div'); r.className = 'amt'; r.textContent = amount;
    // set universal text color (keep same for both)
    l.style.color = '#e8ffff';
    r.style.color = '#e8ffff';
    row.appendChild(l); row.appendChild(r);
    listDiv.appendChild(row);
  });
}

/* utility to get rgba from hex */
function hexToRgba(hex, alpha=1){
  hex = hex.replace('#','').trim();
  if(hex.length===3) hex = hex.split('').map(h=>h+h).join('');
  const r = parseInt(hex.slice(0,2),16), g = parseInt(hex.slice(2,4),16), b = parseInt(hex.slice(4,6),16);
  return `rgba(${r},${g},${b},${alpha})`;
}

/* listen to last10bids — newest first in DB (we store newest first there) */
db.ref('last10bids').on('value', snap=>{
  const arr = snap.val() || [];
  renderList(arr);
});
</script>
</body>
</html>
