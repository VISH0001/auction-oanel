<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Last 10 Bids</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  background:#00101a;
  color:#dffbff;
  font-family: Arial, sans-serif;
  padding:20px;
}

/* Title */
h2 {
  text-align:center;
  color:#00eaff;
  font-size:32px;
  text-shadow:0 0 10px #00eaff;
  margin-bottom:28px;
}

/* Container */
#lineContainer {
  max-width:320px;   /* SHORT WIDTH */
  margin:0 auto;
}

/* Each Bid Row */
.bidRow {
  display:flex;
  justify-content:space-between;
  align-items:center;

  padding:16px 20px;
  margin:12px 0;

  border-radius:14px;
  color:white;
  font-size:19px;
  font-weight:600;

  box-shadow:0 0 18px rgba(0,0,0,0.35);
  transition:0.2s;
}

.bidRow:hover {
  transform:scale(1.02);
}

/* RIGHT SIDE */
.amount {
  font-weight:700;
  font-size:20px;
}
</style>
</head>

<body>

<h2>Last 10 Bids</h2>
<div id="lineContainer"></div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
/* --- Firebase Config --- */
const firebaseConfig = {
  apiKey: "AIzaSyCX6FYo5gVgCmds7Xf63xF-Xcg6eIutQmk",
  authDomain: "auction-71c28.firebaseapp.com",
  databaseURL: "https://auction-71c28-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "auction-71c28",
  storageBucket: "auction-71c28.firebasestorage.app",
  messagingSenderId: "92883040612",
  appId: "1:92883040612:web:473f540c99efc20e8d2271"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* --- TEAM COLORS --- */
const teamColors = {
  1: { bg:"#0b4d6b", glow:"#11b2ff" },
  2: { bg:"#5b1b1b", glow:"#ff4747" },
  3: { bg:"#8a5c00", glow:"#ffbe33" },
  4: { bg:"#3e1364", glow:"#b46dff" },
  5: { bg:"#7c2e00", glow:"#ff7a33" },
  6: { bg:"#00416a", glow:"#40aaff" },
  7: { bg:"#6b0041", glow:"#ff2ebd" },
  8: { bg:"#7a4b00", glow:"#ffc233" }
};

/* --- Load last10bids live --- */
const container = document.getElementById("lineContainer");

db.ref("last10bids").on("value", snap => {
  container.innerHTML = "";
  const arr = snap.val() || [];

  arr.forEach((item, index) => {
    const teamNum = Number(item.teamNum || 1);
    const colors = teamColors[teamNum] || teamColors[1];

    const opacity = Math.max(0.1, 1 - index * 0.1); // fade older rows

    const row = document.createElement("div");
    row.className = "bidRow";
    row.style.background = colors.bg;
    row.style.boxShadow = `0 0 14px ${colors.glow}`;
    row.style.opacity = opacity;

    row.innerHTML = `
      <span>${item.team}</span>
      <span class="amount">${item.amount} Cr</span>
    `;

    container.appendChild(row);
  });
});
</script>

</body>
</html>
